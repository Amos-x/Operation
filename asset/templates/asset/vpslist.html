{% extends 'asset/base.html' %}
{% block content %}
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div id="ibox-content" class="ibox-title">
                    <h5>虚拟机列表</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <i class="fa fa-wrench"></i>
                        </a>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <div class="panel-options">
                        <ul class="nav nav-tabs">
                            {% if request.user.is_superuser %}
                                <li><a href="{% url 'asset:vps_all' 'add' %}"><i class="fa fa-laptop"></i>创建虚拟机</a></li>
                            {% endif %}
                        </ul>
                    </div>
                </div>
             <div id="myTabContent" class="tab-content">
                       <div class="tab-pane fade in active" id="cmd_record">
                              <div class="tab-content">
                                    <table class="table table-striped table-bordered table-hover ">
                                        <thead>
                                            <tr>
                                                <th class="text-center">虚拟机IP</th>
                                                 <th class="text-center">CPU大小</th>
                                                <th class="text-center">内存大小</th>
                                                <th class="text-center">磁盘容量</th>
                                                <th class="text-center">操作系统</th>
                                                <th class="text-center">宿主机IP</th>
                                                <th class="text-center">用途</th>
                                                <th class="text-center">操作</th>
                                            </tr>
                                        </thead>
                                        <tbody id="cmd_record">
                                                {% for vps in vpss %}

                                                        <tr>
                                                            <td class="text-center"> {{ vps.ip }}</td>
                                                            <td class="text-center">{{ vps.cpu_number}}</td>
                                                            <td class="text-center">{{ vps.memory }}</td>
                                                            <td class="text-center">{{ vps.disk }}</td>
                                                            <td class="text-center">{{ vps.os }}</td>
                                                            <td class="text-center">{{ vps.master_host }}</td>
                                                            <td class="text-center">{{ vps.usage }}</td>
                                                            <td>
                                                                <a href="{% url 'asset:vps_all' 'edit' %}?vpsid={{ vps.id }}">编辑</a>
                                                                <a href="{% url 'deployment:softwareinstall' %}">安装软件</a>
                                                                <a href="{% url 'asset:vps_all' 'edit' %}?vpsid={{ vps.id }}">删除</a>
                                                            </td>
                                                        </tr>
                                                {% endfor %}
                                        </tbody>
                                    </table>
                                    <div class="row">
                                        <div class="col-sm-6"></div>
                                        <div class="col-sm-6">
                                            <div class="dataTables_paginate paging_simple_numbers" id="editable_paginate">
                                                 <ul class="pagination" style="margin-top: 0; float: right">

                                                     <li class="paginate_button previous disabled" aria-controls="editable" tabindex="0" id="editable_previous">
                                                        <a class="page" href="#">上一页</a>
                                                     </li>
                                                     <li class="paginate_button active" aria-controls="editable" tabindex="0"><a class="page" href="?page=1" title="第1页">1</a></li>
                                                     <li class="paginate_button next disabled" aria-controls="editable" tabindex="0" id="editable_next">
                                                        <a class="page" href="#">下一页</a>
                                                     </li>
                                                 </ul>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                       </div>
             </div>
        </div>
   </div>
  </div>
</div>
{% endblock %}
{% block js-scripts %}
   {% include 'asset/paginate.js.html' %}
{% endblock %}